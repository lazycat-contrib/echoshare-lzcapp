import{d as V,u as P,a as h,j as w,c as g,F as _,e as c,t as b,f as r,r as m,m as v,n as U,B as C,A as $,z as x,o as f,h as n,w as T,i as R,g as y}from"./index.DoEgvpef.js";const I={class:"w-full mt-3 mb-3 max-sm:pt-3"},L={class:"grow-0 sm:block hidden"},E={class:"grow-0 sm:hidden block"},B={class:"w-full"},M=V({__name:"stunConf2",setup(S){const{t:l}=P(),a=h(),e=JSON.stringify(a.iceServerConf),s=w(a.iceServerConf.length===0?"":e);function o(){s.value.startsWith("http")?fetch(s.value).then(t=>t.text()).then(t=>{s.value=t,u(t)}).catch(t=>{C(t),$(l("settings.iceServerFetchErr")+" "+s.value)}):u(s.value)}function u(t){if(!t){a.iceServerConf=[],x(l("settings.iceServerReset"));return}let i=!1;try{a.iceServerConf=JSON.parse(t)}catch(p){C(p),i=!0}i||!a.iceServerConf?$(l("settings.iceServerParseErr")):x(l("settings.iceServerParseSuccess"))}return(t,i)=>{const p=m("VaTextarea"),d=m("VaButton");return f(),g(_,null,[c("div",I,[c("h1",L,b(t.$t("settings.stunSettingsTitle")),1),c("h1",E,b(t.$t("settings.stunSettingsShortTitle")),1)]),c("div",B,[r(p,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=k=>s.value=k),class:"w-full font-mono max-sm:mb-1.5 sm:mb-2",placeholder:t.$t("settings.iceServerTextAreaPlaceholder")},null,8,["modelValue","placeholder"]),r(d,{class:"w-full",onClick:o},{default:v(()=>[U(b(s.value&&s.value.startsWith("http")?t.$t("settings.iceServerTextBtnTextForURL"):t.$t("settings.iceServerTextBtnTextForJSON")),1)]),_:1})])],64)}}}),N=V({__name:"checkboxConf",setup(S){const l=h();return(a,e)=>{const s=m("VaCheckbox");return f(),g(_,null,[r(s,{modelValue:n(l).autoRequireStream,"onUpdate:modelValue":e[0]||(e[0]=o=>n(l).autoRequireStream=o),class:"w-full ml-3 mb-6 sm:mb-4",label:n(l).autoRequireStream?a.$t("settings.autoRequireStreamEnable"):a.$t("settings.autoRequireStreamDisable")},null,8,["modelValue","label"]),e[3]||(e[3]=c("br",null,null,-1)),r(s,{modelValue:n(l).enableAutoRefetch,"onUpdate:modelValue":e[1]||(e[1]=o=>n(l).enableAutoRefetch=o),class:"w-full ml-3 mb-6 sm:mb-4",label:n(l).enableAutoRefetch?a.$t("settings.autoRefetchEnable"):a.$t("settings.autoRefetchDisable")},null,8,["modelValue","label"]),e[4]||(e[4]=c("br",null,null,-1)),r(s,{modelValue:n(l).autoTryPlay,"onUpdate:modelValue":e[2]||(e[2]=o=>n(l).autoTryPlay=o),class:"w-full ml-3 mb-6 sm:mb-4",label:n(l).autoTryPlay?a.$t("settings.autoTryPlayEnable"):a.$t("settings.autoTryPlayDisable")},null,8,["modelValue","label"])],64)}}}),F=V({__name:"peerServerConf",setup(S){const{t:l,locale:a}=P(),e=h(),s=()=>[{value:0,text:l("settings.peerMode0")},{value:1,text:l("settings.peerMode1")}],o=w(s()[e.peerModeIndex]);return T(o,u=>{e.peerModeIndex=u.value}),T(a,()=>{o.value=s()[e.peerModeIndex]}),(u,t)=>{const i=m("VaSelect"),p=m("VaInput");return f(),g(_,null,[c("h1",null,b(u.$t("settings.peerSettingsTitle")),1),r(i,{"text-by":"text",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=d=>o.value=d),class:"w-full mt-6 sm:mt-4",label:u.$t("settings.peerSelectLabel"),options:s(),placeholder:u.$t("settings.peerSelectPlaceholder")},null,8,["modelValue","label","options","placeholder"]),n(e).peerModeIndex===0?(f(),R(p,{key:0,class:"w-full text-gray-400 mt-3 mb-3 max-sm:pt-3",label:u.$t("settings.serverURLInputLabel"),readonly:"",modelValue:n(e).defaultParams.serverURL,"onUpdate:modelValue":t[1]||(t[1]=d=>n(e).defaultParams.serverURL=d)},null,8,["label","modelValue"])):y("",!0),n(e).peerModeIndex===1?(f(),R(p,{key:1,class:"w-full mt-4 mb-3",label:u.$t("settings.serverURLInputLabel"),placeholder:u.$t("settings.serverURLInputExamplePlaceholder"),modelValue:n(e).serverURL,"onUpdate:modelValue":t[2]||(t[2]=d=>n(e).serverURL=d)},null,8,["label","placeholder","modelValue"])):y("",!0)],64)}}}),O={class:"mt-4"},A=V({__name:"settings",setup(S){return(l,a)=>{const e=m("VaCardTitle"),s=m("VaCardContent"),o=m("VaCard");return f(),g("div",O,[r(o,{class:"m-auto flex flex-col xl6 sm10 xs11"},{default:v(()=>[r(e,{class:"text-lg"},{default:v(()=>[U(b(l.$t("settings.title")),1)]),_:1}),r(s,null,{default:v(()=>[r(N),r(F),r(M)]),_:1})]),_:1})])}}});export{A as default};
